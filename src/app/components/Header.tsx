'use client';

import { useEffect, useState } from "react";
import Image from "next/image"
import { isClient } from "../utils/isClient";

export default function Header() {
  const [showSidebar, setShowSidebar] = useState(false);

  useEffect(() => {
    if (isClient) {
      if (showSidebar) document.body.style.overflow = 'hidden';
    }

    return () => {
      if (isClient) {
        document.body.style.overflow = 'unset';
      }
    };
  }, [showSidebar])

  return (
    <header className="row h-[84px] w-full bg-white border-b-gray-200 border-b-1 xl:justify-center">
      <div className="flex-center full-size xl:w-[950px]">
        <div className="row flex-center justify-between w-full px-6">
          <Image
            className="h-auto"
            src="/logo.webp"
            width={81}
            height={32}
            alt="logo da liva"
          />

          <nav className="hidden xl:flex">
            <ul className="row space-x-4">
              <li>HOME</li>
              <li>SOBRE A LIVA</li>
              <li>EMPREENDIMENTOS</li>
              <li>NOTÍCIAS</li>
              <li>CONTATO</li>
            </ul>
          </nav>

          <div className="hidden xl:flex space-x-3">
            <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clipPath="url(#clip0_26_912)">
                <path d="M14.2125 0.218628C6.48397 0.218628 0.218658 6.48394 0.218658 14.2125C0.218658 21.941 6.48397 28.2064 14.2125 28.2064C21.9411 28.2064 28.2064 21.941 28.2064 14.2125C28.2064 6.48394 21.9411 0.218628 14.2125 0.218628ZM19.5696 7.7622H16.9457C16.2212 7.7622 15.6338 8.34961 15.6338 9.07412V11.698H19.5696L19.1322 15.1964H15.6338V23.9426H12.1353V15.1964H8.96482V11.698H12.1353V9.00328C12.1353 6.43201 14.2998 4.39099 16.8667 4.54208L19.5696 4.70104V7.7622Z" fill="black" />
              </g>
              <defs>
                <clipPath id="clip0_26_912">
                  <rect width="28.425" height="28.425" fill="white" />
                </clipPath>
              </defs>
            </svg>
            <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clipPath="url(#clip0_26_914)">
                <path d="M18.568 6.99685H11.007C9.11343 6.99685 7.57192 8.53836 7.57192 10.4319V17.993C7.57192 19.8865 9.11343 21.428 11.007 21.428H18.568C20.4616 21.428 22.0031 19.8865 22.0031 17.993V10.4319C22.0031 8.53836 20.4616 6.99685 18.568 6.99685ZM14.7875 18.7058C12.3102 18.7058 10.2942 16.6898 10.2942 14.2124C10.2942 11.7351 12.3102 9.71909 14.7875 9.71909C17.2649 9.71909 19.2808 11.7351 19.2808 14.2124C19.2808 16.6898 17.2649 18.7058 14.7875 18.7058ZM19.4033 10.6374C18.8239 10.6374 18.3538 10.1673 18.3538 9.5868C18.3538 9.00737 18.8239 8.53726 19.4033 8.53726C19.9838 8.53726 20.4539 9.00737 20.4539 9.5868C20.4539 10.1673 19.9838 10.6374 19.4033 10.6374ZM14.7875 11.2497C13.1542 11.2497 11.8247 12.5791 11.8247 14.2124C11.8247 15.8458 13.1542 17.1752 14.7875 17.1752C16.4209 17.1752 17.7503 15.8458 17.7503 14.2124C17.7503 12.5791 16.4209 11.2497 14.7875 11.2497ZM14.7875 0.218567C7.05917 0.218567 0.79364 6.4841 0.79364 14.2124C0.79364 21.9408 7.05917 28.2063 14.7875 28.2063C22.5158 28.2063 28.7814 21.9408 28.7814 14.2124C28.7814 6.4841 22.5158 0.218567 14.7875 0.218567ZM23.5337 17.993C23.5337 20.7305 21.3056 22.9586 18.568 22.9586H11.007C8.26943 22.9586 6.04134 20.7305 6.04134 17.993V10.4319C6.04134 7.69435 8.26943 5.46627 11.007 5.46627H18.568C21.3056 5.46627 23.5337 7.69435 23.5337 10.4319V17.993Z" fill="black" />
              </g>
              <defs>
                <clipPath id="clip0_26_914">
                  <rect width="28.425" height="28.425" fill="white" transform="translate(0.574951 -6.10352e-05)" />
                </clipPath>
              </defs>
            </svg>
          </div>

          <div className="hidden xl:flex">
            <button className="flex-center w-[138px] h-[46px] space-x-2 bg-primary rounded-sm text-white font-light text-xs cursor-pointer hover:bg-primary-500">
              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M7.04972 13.3932H7.04694C5.92334 13.3928 4.81929 13.1123 3.8387 12.58L0.279755 13.5091L1.23219 10.0469C0.644681 9.03358 0.335537 7.8842 0.336041 6.70662C0.337514 3.02275 3.34921 0.0256348 7.04965 0.0256348C8.8456 0.0264062 10.5312 0.722218 11.7987 1.98514C13.0663 3.24801 13.7639 4.92666 13.7632 6.71189C13.7617 10.3949 10.7512 13.3917 7.04972 13.3932ZM4.00381 11.3685L4.20757 11.4888C5.0643 11.9948 6.04637 12.2625 7.04767 12.2629H7.04993C10.1255 12.2629 12.6287 9.77165 12.6299 6.70957C12.6305 5.22569 12.0506 3.83047 10.9971 2.78078C9.94358 1.73108 8.54255 1.15272 7.05212 1.1522C3.9742 1.1522 1.47098 3.64321 1.46976 6.70507C1.46933 7.75439 1.76434 8.7763 2.32291 9.66046L2.45559 9.87057L1.89188 11.9198L4.00381 11.3685ZM10.2025 8.15039C10.3195 8.20667 10.3985 8.24466 10.4323 8.30071C10.4742 8.37032 10.4742 8.70457 10.3345 9.09461C10.1946 9.48456 9.52449 9.84047 9.20217 9.88839C8.91318 9.93139 8.54745 9.94933 8.14562 9.82223C7.90197 9.7453 7.58953 9.64258 7.18931 9.47056C5.6167 8.79477 4.55394 7.27786 4.35308 6.99117C4.33901 6.97109 4.32917 6.95704 4.32368 6.94975L4.32232 6.94795C4.23355 6.83007 3.63872 6.04022 3.63872 5.22275C3.63872 4.45376 4.01828 4.05069 4.19299 3.86516C4.20496 3.85244 4.21596 3.84075 4.22582 3.83004C4.37958 3.6629 4.56133 3.62111 4.67315 3.62111C4.78497 3.62111 4.89692 3.62214 4.99466 3.62703C5.00672 3.62763 5.01926 3.62756 5.03223 3.62748C5.12999 3.62691 5.25186 3.6262 5.37208 3.91361C5.41834 4.02421 5.48601 4.18818 5.55739 4.36112C5.70173 4.71086 5.86122 5.09728 5.88928 5.1532C5.93123 5.23677 5.95918 5.33422 5.90327 5.44569C5.89487 5.4624 5.88711 5.47818 5.87969 5.49325C5.8377 5.57858 5.8068 5.64134 5.73553 5.72417C5.7075 5.75674 5.67853 5.79185 5.64956 5.82696C5.59185 5.8969 5.53414 5.96684 5.48389 6.01666C5.39992 6.09991 5.3125 6.19023 5.41035 6.35737C5.5082 6.52451 5.84486 7.07118 6.34355 7.51387C6.87961 7.98973 7.34552 8.19086 7.58168 8.2928C7.6278 8.31271 7.66515 8.32884 7.69256 8.34249C7.86024 8.42608 7.9581 8.41209 8.05596 8.30071C8.15382 8.18929 8.4753 7.81321 8.58711 7.6461C8.69893 7.47903 8.8108 7.50686 8.96453 7.56255C9.11833 7.61831 9.94306 8.02214 10.1108 8.1057C10.1436 8.12201 10.1742 8.13674 10.2025 8.15039Z" fill="white" />
              </svg>

              <span>WHATSAPP</span>
            </button>
          </div>

          {showSidebar ? (
            <svg
              className="xl:hidden"
              width="17"
              height="18"
              viewBox="0 0 17 18"
              xmlns="http://www.w3.org/2000/svg"
              onClick={() => setShowSidebar(!showSidebar)}
            >
              <g clipPath="url(#clip0_26_878)">
                <path d="M15.0536 2.9087L14.3214 2.1405L8.5 8.25362L2.6786 2.1405L1.94641 2.9087L7.77297 9.0164L1.94641 15.1241L2.6786 15.8923L8.5 9.77919L14.3214 15.8923L15.0536 15.1241L9.22704 9.0164L15.0536 2.9087Z" fill="black" stroke="black" strokeWidth="1.4" />
              </g>
              <defs>
                <clipPath id="clip0_26_878">
                  <rect width="16.5" height="17.3115" fill="white" transform="translate(0.25 0.360596)" />
                </clipPath>
              </defs>
            </svg>
          ) : (
            <svg
              className="xl:hidden"
              width="16"
              height="12"
              viewBox="0 0 16 12"
              xmlns="http://www.w3.org/2000/svg"
              onClick={() => setShowSidebar(!showSidebar)}
            >
              <path d="M16 0.305542H0V3.00028H16V0.305542Z" fill="#010002" />
              <path d="M16 4.62085H0V7.31559H16V4.62085Z" fill="#010002" />
              <path d="M16 8.99976H0V11.6945H16V8.99976Z" fill="#010002" />
            </svg>
          )}
        </div>

        {showSidebar && (
          <nav className="absolute col w-full top-21 right-0 bg-white space-y-5 pt-6 px-6 z-50 *:w-full *:font-medium xl:hidden"
            style={{ height: 'calc(100vh - 84px - 84px)' }}
          >
            <ul className="space-y-5 text-lg *:w-full">
              <li>HOME</li>
              <li>SOBRE A LIVA</li>
              <li>EMPREENDIMENTOS</li>
              <li>NOTÍCIAS</li>
              <li>CONTATO</li>
            </ul>
            <div className="space-y-2.5">
              <p>Acompanhe nas redes</p>
              <div className="row space-x-3">
                <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clipPath="url(#clip0_26_912)">
                    <path d="M14.2125 0.218628C6.48397 0.218628 0.218658 6.48394 0.218658 14.2125C0.218658 21.941 6.48397 28.2064 14.2125 28.2064C21.9411 28.2064 28.2064 21.941 28.2064 14.2125C28.2064 6.48394 21.9411 0.218628 14.2125 0.218628ZM19.5696 7.7622H16.9457C16.2212 7.7622 15.6338 8.34961 15.6338 9.07412V11.698H19.5696L19.1322 15.1964H15.6338V23.9426H12.1353V15.1964H8.96482V11.698H12.1353V9.00328C12.1353 6.43201 14.2998 4.39099 16.8667 4.54208L19.5696 4.70104V7.7622Z" fill="black" />
                  </g>
                  <defs>
                    <clipPath id="clip0_26_912">
                      <rect width="28.425" height="28.425" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
                <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clipPath="url(#clip0_26_914)">
                    <path d="M18.568 6.99685H11.007C9.11343 6.99685 7.57192 8.53836 7.57192 10.4319V17.993C7.57192 19.8865 9.11343 21.428 11.007 21.428H18.568C20.4616 21.428 22.0031 19.8865 22.0031 17.993V10.4319C22.0031 8.53836 20.4616 6.99685 18.568 6.99685ZM14.7875 18.7058C12.3102 18.7058 10.2942 16.6898 10.2942 14.2124C10.2942 11.7351 12.3102 9.71909 14.7875 9.71909C17.2649 9.71909 19.2808 11.7351 19.2808 14.2124C19.2808 16.6898 17.2649 18.7058 14.7875 18.7058ZM19.4033 10.6374C18.8239 10.6374 18.3538 10.1673 18.3538 9.5868C18.3538 9.00737 18.8239 8.53726 19.4033 8.53726C19.9838 8.53726 20.4539 9.00737 20.4539 9.5868C20.4539 10.1673 19.9838 10.6374 19.4033 10.6374ZM14.7875 11.2497C13.1542 11.2497 11.8247 12.5791 11.8247 14.2124C11.8247 15.8458 13.1542 17.1752 14.7875 17.1752C16.4209 17.1752 17.7503 15.8458 17.7503 14.2124C17.7503 12.5791 16.4209 11.2497 14.7875 11.2497ZM14.7875 0.218567C7.05917 0.218567 0.79364 6.4841 0.79364 14.2124C0.79364 21.9408 7.05917 28.2063 14.7875 28.2063C22.5158 28.2063 28.7814 21.9408 28.7814 14.2124C28.7814 6.4841 22.5158 0.218567 14.7875 0.218567ZM23.5337 17.993C23.5337 20.7305 21.3056 22.9586 18.568 22.9586H11.007C8.26943 22.9586 6.04134 20.7305 6.04134 17.993V10.4319C6.04134 7.69435 8.26943 5.46627 11.007 5.46627H18.568C21.3056 5.46627 23.5337 7.69435 23.5337 10.4319V17.993Z" fill="black" />
                  </g>
                  <defs>
                    <clipPath id="clip0_26_914">
                      <rect width="28.425" height="28.425" fill="white" transform="translate(0.574951 -6.10352e-05)" />
                    </clipPath>
                  </defs>
                </svg>
              </div>
            </div>
          </nav>
        )}

        {showSidebar && (
          <div className="absolute flex-center h-[84px] w-full bg-[#F2F2F2] bottom-0 text-xs xl:hidden">
            <button className="flex-center w-[311px] h-[46px] space-x-2 bg-primary rounded-sm text-white">
              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M7.04972 13.3932H7.04694C5.92334 13.3928 4.81929 13.1123 3.8387 12.58L0.279755 13.5091L1.23219 10.0469C0.644681 9.03358 0.335537 7.8842 0.336041 6.70662C0.337514 3.02275 3.34921 0.0256348 7.04965 0.0256348C8.8456 0.0264062 10.5312 0.722218 11.7987 1.98514C13.0663 3.24801 13.7639 4.92666 13.7632 6.71189C13.7617 10.3949 10.7512 13.3917 7.04972 13.3932ZM4.00381 11.3685L4.20757 11.4888C5.0643 11.9948 6.04637 12.2625 7.04767 12.2629H7.04993C10.1255 12.2629 12.6287 9.77165 12.6299 6.70957C12.6305 5.22569 12.0506 3.83047 10.9971 2.78078C9.94358 1.73108 8.54255 1.15272 7.05212 1.1522C3.9742 1.1522 1.47098 3.64321 1.46976 6.70507C1.46933 7.75439 1.76434 8.7763 2.32291 9.66046L2.45559 9.87057L1.89188 11.9198L4.00381 11.3685ZM10.2025 8.15039C10.3195 8.20667 10.3985 8.24466 10.4323 8.30071C10.4742 8.37032 10.4742 8.70457 10.3345 9.09461C10.1946 9.48456 9.52449 9.84047 9.20217 9.88839C8.91318 9.93139 8.54745 9.94933 8.14562 9.82223C7.90197 9.7453 7.58953 9.64258 7.18931 9.47056C5.6167 8.79477 4.55394 7.27786 4.35308 6.99117C4.33901 6.97109 4.32917 6.95704 4.32368 6.94975L4.32232 6.94795C4.23355 6.83007 3.63872 6.04022 3.63872 5.22275C3.63872 4.45376 4.01828 4.05069 4.19299 3.86516C4.20496 3.85244 4.21596 3.84075 4.22582 3.83004C4.37958 3.6629 4.56133 3.62111 4.67315 3.62111C4.78497 3.62111 4.89692 3.62214 4.99466 3.62703C5.00672 3.62763 5.01926 3.62756 5.03223 3.62748C5.12999 3.62691 5.25186 3.6262 5.37208 3.91361C5.41834 4.02421 5.48601 4.18818 5.55739 4.36112C5.70173 4.71086 5.86122 5.09728 5.88928 5.1532C5.93123 5.23677 5.95918 5.33422 5.90327 5.44569C5.89487 5.4624 5.88711 5.47818 5.87969 5.49325C5.8377 5.57858 5.8068 5.64134 5.73553 5.72417C5.7075 5.75674 5.67853 5.79185 5.64956 5.82696C5.59185 5.8969 5.53414 5.96684 5.48389 6.01666C5.39992 6.09991 5.3125 6.19023 5.41035 6.35737C5.5082 6.52451 5.84486 7.07118 6.34355 7.51387C6.87961 7.98973 7.34552 8.19086 7.58168 8.2928C7.6278 8.31271 7.66515 8.32884 7.69256 8.34249C7.86024 8.42608 7.9581 8.41209 8.05596 8.30071C8.15382 8.18929 8.4753 7.81321 8.58711 7.6461C8.69893 7.47903 8.8108 7.50686 8.96453 7.56255C9.11833 7.61831 9.94306 8.02214 10.1108 8.1057C10.1436 8.12201 10.1742 8.13674 10.2025 8.15039Z" fill="white" />
              </svg>

              <span>WHATSAPP</span>
            </button>
          </div>
        )}
      </div>
    </header>
  );
}
